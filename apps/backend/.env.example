# Required: Redis endpoint used by runtime and integration tests.
REDIS_URL=redis://localhost:6379

# Stream and worker defaults.
REDIS_STREAM_MAXLEN=100000
REDIS_DEDUP_TTL_SECONDS=604800
REDIS_CONSUMER_BLOCK_MS=5000
REDIS_CONSUMER_BATCH_SIZE=50
REDIS_MAX_DELIVERIES=5

# Number of recent stream records printed by npm run dev.
DEV_STREAM_PRINT_LIMIT=25

# Signal ingestion worker settings.
SIGNAL_INGESTION_CONSUMER_GROUP=signal-ingestion-group
SIGNAL_INGESTION_CONSUMER_NAME=

# Signal ingestion gateway settings.
SIGNAL_INGESTION_GATEWAY_HOST=127.0.0.1
SIGNAL_INGESTION_GATEWAY_PORT=8090
SIGNAL_INGESTION_GATEWAY_MAX_REQUEST_BYTES=1048576
SIGNAL_INGESTION_GATEWAY_MAX_SIGNALS_PER_REQUEST=500
SIGNAL_INGESTION_GATEWAY_AUTH_TOKEN=
SIGNAL_INGESTION_GATEWAY_URL=http://127.0.0.1:8090/signals

# NOAA weather connector settings.
WEATHER_CONNECTOR_BASE_URL=https://api.weather.gov
WEATHER_CONNECTOR_ALERTS_PATH=/alerts/active
WEATHER_CONNECTOR_AREA=
WEATHER_CONNECTOR_SEVERITY=Severe,Extreme
WEATHER_CONNECTOR_URGENCY=Immediate,Expected
WEATHER_CONNECTOR_CERTAINTY=Observed,Likely
WEATHER_CONNECTOR_USER_AGENT=swarm-risk-management/0.1 (dev@localhost)
WEATHER_CONNECTOR_POLL_INTERVAL_MS=60000
WEATHER_CONNECTOR_REQUEST_TIMEOUT_MS=10000
WEATHER_CONNECTOR_MAX_ALERTS_PER_POLL=200

# Risk classification worker settings.
RISK_CLASSIFICATION_PRIMARY_CLASSIFIER=RULE_BASED
RISK_CLASSIFICATION_CONSUMER_GROUP=risk-classification-group
RISK_CLASSIFICATION_CONSUMER_NAME=
RISK_CLASSIFICATION_CONFIDENCE_THRESHOLD=0.65
RISK_CLASSIFICATION_MODEL_VERSION=risk-classification-v1
RISK_CLASSIFICATION_LLM_ENDPOINT=
RISK_CLASSIFICATION_LLM_API_KEY=
RISK_CLASSIFICATION_LLM_MODEL=llama3.1:8b
RISK_CLASSIFICATION_LLM_TIMEOUT_MS=8000
RISK_CLASSIFICATION_LLM_MAX_CONCURRENCY=8
RISK_CLASSIFICATION_LLM_MAX_QUEUE_SIZE=500
RISK_CLASSIFICATION_LLM_MAX_RETRIES=2
RISK_CLASSIFICATION_LLM_RETRY_BASE_DELAY_MS=150

# Local LLM adapter service settings.
LLM_ADAPTER_HOST=127.0.0.1
LLM_ADAPTER_PORT=8088
LLM_ADAPTER_UPSTREAM_BASE_URL=http://localhost:11434
LLM_ADAPTER_UPSTREAM_API_KEY=
LLM_ADAPTER_DEFAULT_MODEL=llama3.1:8b
LLM_ADAPTER_REQUEST_TIMEOUT_MS=15000
LLM_ADAPTER_MAX_CONCURRENCY=8
LLM_ADAPTER_MAX_QUEUE_SIZE=500
LLM_ADAPTER_MAX_REQUEST_BYTES=262144

# Risk engine worker settings.
RISK_ENGINE_CONSUMER_GROUP=risk-engine-group
RISK_ENGINE_CONSUMER_NAME=
RISK_ENGINE_EVALUATION_VERSION=risk-engine-v1
RISK_ENGINE_DAILY_REVENUE_BASELINE=250000
